{% load static from staticfiles %}

<!DOCTYPE html>
<html lang="en">
  <head>
    {% block head %}
      {% block meta %}
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <!-- Meta, title, CSS, favicons, etc. -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
      {% endblock meta %}

      <title>Gentelella Alela! | {% block title %}{% endblock %}</title>

      {% block stylesheets %}
        <link rel="stylesheet" href="{% static 'static/vendors/bootstrap/dist/css/bootstrap.min.css' %}">
        
        <!-- Font Awesome -->
        <link rel="stylesheet" href="{% static 'static/vendors/font-awesome/css/font-awesome.min.css' %}">

        <!-- NProgress -->
        <link rel="stylesheet" href="{% static 'static/vendors/nprogress/nprogress.css' %}">
        <!-- bootstrap-daterangepicker -->
        <link rel="stylesheet" href="{% static 'static/vendors/bootstrap-daterangepicker/daterangepicker.css' %}">
        <!-- iCheck -->
        <link rel="stylesheet" href="{% static 'static/vendors/iCheck/skins/flat/green.css' %}">
        <!-- bootstrap-progressbar -->
        <link rel="stylesheet" href="{% static 'static/vendors/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css' %}">
        <!-- JQVMap -->
        <link rel="stylesheet" href="{% static 'static/vendors/jqvmap/dist/jqvmap.min.css' %}">
      {% endblock stylesheets %}
      <!-- Custom Theme Style -->
      <link rel="stylesheet" href="{% static 'static/build/css/custom.css' %}">
    {% endblock head %}
  </head>

  <body class="{% block body_class %}nav-md {% endblock body_class %}">
    {% block body %}
      <div class="container body">
        <div class="main_container">


            <header>
                <div class="top-bar">
                  <div class="top-bar-left">
                    <ul class="dropdown menu" data-dropdown-menu>
                      <li class="menu-text"><strong>Stochastic Dynamics Lab</strong></li>
                        <a href="#">Research</a>
                        <a href="#">Publication</a>
                      <!-- <li>
                        <ul class="menu vertical">
                          <li><a href="#">One</a></li>
                          <li><a href="#">Two</a></li>
                          <li><a href="#">Three</a></li>
                        </ul>
                      </li> -->
                      <!-- <li><a href="#">Courses</a></li> -->
                      <!-- <li><a href="#">Projects</a></li>
                      <li><a href="#">People</a></li> -->
                      <li><a href="#">Repository</a></li>
                    </ul>
                  </div>
                  <div class="top-bar-right">
                    <ul class="dropdown menu" data-dropdown-menu>
                      {% if user.is_authenticated %}
                      <li class="menu-text"> Welcome  <b>{{ user.username }}</b>!</li>
                      <li><a href="{% url 'logout' %}">logout</a></li>
                      {% else %}
                      <li> <a href="{% url 'login' %}">login</a> </li>
                      {% comment %}
                        <a href="{% url 'accounts:signup' %}">signup</a>
                      {% endcomment %}
                      {% endif %}
                    </ul>
                  </div>
                </div>
              {{google_forms_url}}
              <div class="grid-container">
                  <div class="grid-x grid-padding-x">
                    <div class="large-12 cell">
          
                    <nav aria-label="You are here:" role="navigation">
                      <ul class="breadcrumbs">
                        {% comment %}
                        <li><a href="#">Home</a></li>
                        <li><a href="{% url 'courses:list' %}">Courses</a></li>
                        <li><a href="{% url 'votes:list' %}">Questions</a></li>
                        {% endcomment %}
                        <li>
                          <span class="show-for-sr">Current: </span> Home
                        </li>
                        <li><a href="{% url 'courses:list' %}">Courses</a></li>
                        <li class="disabled">Questions</a></li>
                        <li><a href="{% url 'votes:voting' %}">Voting</a></li>
                        <li><a href="{% url 'accounts:student_MyPage' %}">MyPage</a></li>
                        <li><a href="{% url 'homework:homework_list' %}">Homework</a></li>
                      </ul>
                    </nav>
                  </div>
                </div>     
               </div>
              </header>














          {% block content %}
            <!-- {{ content }} -->

            <h1>{{user.username}}</h1>
            <div class="right_col" role="main">
                <div class="">
                  <div class="page-title">
                    <div class="title_left">
                      <h3>Tables <small>Some examples to get you started</small></h3>
                    </div>
            
                    <div class="title_right">
                      <div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
                        <div class="input-group">
                          <input type="text" class="form-control" placeholder="Search for...">
                          <span class="input-group-btn">
                            <button class="btn btn-default" type="button">Go!</button>
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
            
                  <div class="clearfix"></div>
            
                  <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-12">
                      <div class="x_panel">
                        <div class="x_title">
                          <h2>Basic Tables <small>basic table subtitle</small></h2>
                          <ul class="nav navbar-right panel_toolbox">
                            <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                            </li>
                            <li class="dropdown">
                              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                              <ul class="dropdown-menu" role="menu">
                                <li><a href="#">Settings 1</a>
                                </li>
                                <li><a href="#">Settings 2</a>
                                </li>
                              </ul>
                            </li>
                            <li><a class="close-link"><i class="fa fa-close"></i></a>
                            </li>
                          </ul>
                          <div class="clearfix"></div>
                        </div>
                        <div class="x_content">
            
                          <table class="table">
                            <thead>
                              <tr>
                                <th>#</th>
                                <th>First Name</th>
                                <th>Last Name</th>
                                <th>Username</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <th scope="row">1</th>
                                <td>Mark</td>
                                <td>Otto</td>
                                <td>@mdo</td>
                              </tr>
                              <tr>
                                <th scope="row">2</th>
                                <td>Jacob</td>
                                <td>Thornton</td>
                                <td>@fat</td>
                              </tr>
                              <tr>
                                <th scope="row">3</th>
                                <td>Larry</td>
                                <td>the Bird</td>
                                <td>@twitter</td>
                              </tr>
                            </tbody>
                          </table>
            
                        </div>
                      </div>
                    </div>
            
                    <div class="col-md-6 col-sm-6 col-xs-12">
                      <div class="x_panel">
                        <div class="x_title">
                          <h2>Stripped table <small>Stripped table subtitle</small></h2>
                          <ul class="nav navbar-right panel_toolbox">
                            <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                            </li>
                            <li class="dropdown">
                              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                              <ul class="dropdown-menu" role="menu">
                                <li><a href="#">Settings 1</a>
                                </li>
                                <li><a href="#">Settings 2</a>
                                </li>
                              </ul>
                            </li>
                            <li><a class="close-link"><i class="fa fa-close"></i></a>
                            </li>
                          </ul>
                          <div class="clearfix"></div>
                        </div>
                        <div class="x_content">
            
                          <table class="table table-striped">
                            <thead>
                              <tr>
                                <th>#</th>
                                <th>First Name</th>
                                <th>Last Name</th>
                                <th>Username</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <th scope="row">1</th>
                                <td>Mark</td>
                                <td>Otto</td>
                                <td>@mdo</td>
                              </tr>
                              <tr>
                                <th scope="row">2</th>
                                <td>Jacob</td>
                                <td>Thornton</td>
                                <td>@fat</td>
                              </tr>
                              <tr>
                                <th scope="row">3</th>
                                <td>Larry</td>
                                <td>the Bird</td>
                                <td>@twitter</td>
                              </tr>
                            </tbody>
                          </table>
            
                        </div>
                      </div>
                    </div>
            
                    <div class="clearfix"></div>
            
                    <div class="clearfix"></div>
            
                    <div class="col-md-12 col-sm-12 col-xs-12">
                      <div class="x_panel">
                        <div class="x_title">
                          <h2>Homework List <small>Custom design</small></h2>
                          <ul class="nav navbar-right panel_toolbox">
                            <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                            </li>
                            <li class="dropdown">
                              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                              <ul class="dropdown-menu" role="menu">
                                <li><a href="#">Settings 1</a>
                                </li>
                                <li><a href="#">Settings 2</a>
                                </li>
                              </ul>
                            </li>
                            <li><a class="close-link"><i class="fa fa-close"></i></a>
                            </li>
                          </ul>
                          <div class="clearfix"></div>
                        </div>
            
                        <div class="x_content">
            
                          <p>Add class <code>bulk_action</code> to table for bulk actions options on row select</p>
            
                          <div class="table-responsive">
                            <table class="table table-striped jambo_table bulk_action">
                              <thead>
                                <tr class="headings">
                                  <th>
                                    <input type="checkbox" id="check-all" class="flat">
                                  </th>
                                  <th class="column-title">HW Number </th>
                                  <th class="column-title">Invoice Date </th>
                                  <th class="column-title">Order </th>
                                  <th class="column-title">Bill to Name </th>
                                  <th class="column-title">Status </th>
                                  <th class="column-title">Show </th>
                                  <th class="column-title no-link last"><span class="nobr">Submit</span>
                                  </th>
                                  <th class="bulk-actions" colspan="7">
                                    <a class="antoo" style="color:#fff; font-weight:500;">Bulk Actions ( <span class="action-cnt"> </span> ) <i class="fa fa-chevron-down"></i></a>
                                  </th>
                                </tr>
                              </thead>
            
                              <tbody>
                                
                                {%for e in homework_list %}

                                    {% if forloop.counter|divisibleby:"2" %}
                                        <tr class="even pointer">
                                    {% else %}
                                        <tr class="odd pointer">
                                    {%endif%}
                                        <td class="a-center ">
                                        <input type="checkbox" class="flat" name="table_records">
                                        </td>
                                        <td class=" ">{{e.title}}</td>
                                        <td class=" ">{{e.contents}}</td>
                                        <td class=" ">121000210 <i class="success fa fa-long-arrow-up"></i></td>
                                        <td class=" ">John Blank L</td>
                                        <td class=" ">Paid</td>
                                        <!--onClick="window.open('/media/{{e.contents}}')"-->
                                        <td class="a-right a-right "><button type="button"  class="btn btn-round btn-default btn_show"  onClick="window.open('/media/{{e.contents}}')" hw_name={{e.title}} data-resource={{e.contents}}>Show</button></td>
                                        <td class=" last"><a href="#"><button type="button" class="btn btn-round btn-default btn_submit" onClick = "window.open('{{google_forms_url}} {{e.title}}')" >Submit</button></a>
                                        </td>
                                        </tr>

                                {% endfor %}       

                              </tbody>
                            </table>
                          </div>
            
            
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>            
            
          {% endblock content %}


        </div>
      </div>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

      <script>
        $('.btn_show').click(function(){
          var hw_name = $(this).attr('hw_name'); // div id = cmd_name
          
          $.ajax({
            url:'api/v1/start',
            data: {
                  user_id:"{{user.username}}",
                  hw_name : hw_name     
            }, 
            success:function(data){
              var str = '';
              for(var name in data){
                str += '<li>'+name +'  :  '+ data[name]+'</li>';
              }    
              $(cmd_name+"_result").html('<ul>'+str+'</ul>');      
            },
            error:function(e){  
              alert(e.responseText);  
            }
          })
        })
        
            $('.btn_set').click(function(){
              var cmd_name = '#'+$(this).attr('cmd_name'); // div id = cmd_name
              var id = $(this).attr('cmd_name');
              var params_list = document.getElementById(id).children; // html collection type
              
              // 1. 자바스크립트 객체 형태로 전달  
              var params = {}; 
              
              // make json for request body...
              for (let item of params_list) { // item is htmllielement type
                var id = item.textContent+"_input";
                params[item.textContent] = document.getElementById(id).value;
              }
              var params_str = JSON.stringify(params)
        
        
              $.ajax({
                url:'/api/v1/result',
                type:'POST',
                dataType:"json",
                data: {hi:'post', // url뒤에 data가 추가된다. api/v1/result?hi=hello 형식으로 장고 서버에 보내진다.
                      device_id:"{{device_info.id}}", 
                      command_id: $(this).attr('data-resource'), // command id가 명시되어있다.
                      body: params_str     
                }, 
                success:function(data){
                  var str = '';
                  for(var name in data){
                    str += '<li>'+name +'  :  '+ data[name]+'</li>';
                  }    
                  $(cmd_name).html('<ul>'+str+'</ul>');      
                },
                error:function(e){  
                  //alert(e.responseText);  
                }
              })
            })
        
          </script>
      {% block javascripts %}

























        <!-- jQuery -->
        <script src="{% static 'static/vendors/jquery/dist/jquery.min.js' %}"></script>

        <!-- Bootstrap -->
        <script src="/static/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
        <script src="{% static 'static/vendors/bootstrap/dist/js/bootstrap.min.js' %}"></script>
        <!-- FastClick -->
        <script src="/static/vendors/fastclick/lib/fastclick.js"></script>
        <script src="{% static 'static/vendors/fastclick/lib/fastclick.js' %}"></script>
        <!-- NProgress -->
        <script src="/static/vendors/nprogress/nprogress.js"></script>
        <script src="{% static 'static/vendors/nprogress/nprogress.js' %}"></script>
        <!-- bootstrap-progressbar -->
        <script src="/static/vendors/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
        <script src="{% static 'static/vendors/bootstrap-progressbar/bootstrap-progressbar.min.js' %}"></script>
        <!-- iCheck -->
        <script src="/static/vendors/iCheck/icheck.min.js"></script>
        <script src="{% static 'static/vendors/iCheck/icheck.min.js' %}"></script>
        <!-- bootstrap-daterangepicker -->
        <script src="/static/vendors/moment/min/moment.min.js"></script>
        <script src="{% static 'static/vendors/moment/min/moment.min.js' %}"></script>
        <script src="/static/vendors/bootstrap-daterangepicker/daterangepicker.js"></script>
        <script src="{% static 'static/vendors/bootstrap-daterangepicker/daterangepicker.js' %}"></script>
        <!-- bootstrap-wysiwyg -->
        <script src="/static/vendors/bootstrap-wysiwyg/js/bootstrap-wysiwyg.min.js"></script>
        <script src="{% static 'static/vendors/bootstrap-wysiwyg/js/bootstrap-wysiwyg.min.js' %}"></script>
        <script src="/static/vendors/jquery.hotkeys/jquery.hotkeys.js"></script>
        <script src="{% static 'static/vendors/jquery.hotkeys/jquery.hotkeys.js' %}"></script>
        <script src="/static/vendors/google-code-prettify/src/prettify.js"></script>
        <script src="{% static 'static/vendors/google-code-prettify/src/prettify.js' %}"></script>
        <!-- jQuery Tags Input -->
        <script src="/static/vendors/jquery.tagsinput/src/jquery.tagsinput.js"></script>
        <script src="{% static 'static/vendors/jquery.tagsinput/src/jquery.tagsinput.js' %}"></script>
        <!-- Switchery -->
        <script src="/static/vendors/switchery/dist/switchery.min.js"></script>
        <script src="{% static 'static/vendors/switchery/dist/switchery.min.js' %}"></script>
        <!-- Select2 -->
        <script src="/static/vendors/select2/dist/js/select2.full.min.js"></script>
        <script src="{% static 'static/vendors/select2/dist/js/select2.full.min.js' %}"></script>
        <!-- Parsley -->
        <script src="/static/vendors/parsleyjs/dist/parsley.min.js"></script>
        <script src="{% static 'static/vendors/parsleyjs/dist/parsley.min.js' %}"></script>
        <!-- Autosize -->
        <script src="/static/vendors/autosize/dist/autosize.min.js"></script>
        <script src="{% static 'static/vendors/autosize/dist/autosize.min.js' %}"></script>
        <!-- jQuery autocomplete -->
        <script src="/static/vendors/devbridge-autocomplete/dist/jquery.autocomplete.min.js"></script>
        <script src="{% static 'static/vendors/devbridge-autocomplete/dist/jquery.autocomplete.min.js' %}"></script>
        <!-- starrr -->
        <script src="/static/vendors/starrr/dist/starrr.js"></script>
        <script src="{% static 'static/vendors/starrr/dist/starrr.js' %}"></script>
      {% endblock %}
      <!-- Custom Theme Scripts -->
      <script src="/static/build/js/custom.js"></script>
      <script src="{% static 'static/build/js/custom.js' %}"></script>
    {% endblock body %}
  </body>
</html>
